{
  "hash": "03f7079ec06599485a760d2d5942a24c",
  "result": {
    "markdown": "---\ntitle: \"Distribuições de Probabilidade\"\nauthor: \"Ricardo Accioly\"\ndate: \"2022-09-08\"\nformat:\n  html:\n    toc: true\n    html-math-method: katex\n---\n\n\n## Carregando bibliotecas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(kableExtra)\n```\n:::\n\n\n## Fraudes em uma loja\n\nBuscando obter um modelo para o número de fraudes com cartão numa loja, foram coletadas, ao longo de 1 ano, o número de ocorrências por semana. Os dados obtidos foram:\n\n-   0 ocorrências em 9 semanas\n\n-   1 ocorrência em 14 semanas\n\n-   2 ocorrências em 13 semanas\n\n-   3 ocorrências em 9 semanas\n\n-   4 ocorrências em 4 semanas\n\n-   5 ocorrências em 2 semanas\n\n-   6 ocorrências em 1 semana\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsemanas <- c(9, 14, 13, 9, 4, 2, 1)\nsum(semanas)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 52\n```\n:::\n\n```{.r .cell-code}\nprobabilidade <- semanas/52\nprobabilidade\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.17307692 0.26923077 0.25000000 0.17307692 0.07692308 0.03846154 0.01923077\n```\n:::\n\n```{.r .cell-code}\nround(probabilidade, 2) # arredondando para 2 casas decimais\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.17 0.27 0.25 0.17 0.08 0.04 0.02\n```\n:::\n:::\n\n\n## Criando uma tabela\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfraude_loja <- data.frame(n_fraudes=0:6, prob=probabilidade)\nfraude_loja\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  n_fraudes       prob\n1         0 0.17307692\n2         1 0.26923077\n3         2 0.25000000\n4         3 0.17307692\n5         4 0.07692308\n6         5 0.03846154\n7         6 0.01923077\n```\n:::\n\n```{.r .cell-code}\nfraude_loja %>% kbl(digits = 2) %>% kable_minimal()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-minimal\" style='font-family: \"Trebuchet MS\", verdana, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> n_fraudes </th>\n   <th style=\"text-align:right;\"> prob </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.27 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.08 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.02 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Visualizando a distribuição\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfraudes <- 0:6\nplot(fraudes, probabilidade, xlab = \"Numero de fraudes numa semana\", ylab = \"Probabilidade\", type = \"h\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Probabilidade Acumulada\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprob_acum <- cumsum(probabilidade)\nfraude_loja2 <- data.frame(n_fraudes=0:6, prob_acum=prob_acum)\nfraude_loja2 %>% kbl(digits = 2) %>% kable_minimal()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-minimal\" style='font-family: \"Trebuchet MS\", verdana, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> n_fraudes </th>\n   <th style=\"text-align:right;\"> prob_acum </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.69 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.87 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.94 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.98 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(fraudes, prob_acum, xlab = \"Numero de fraudes numa semana\",\nylab = \"Probabilidade Acumulada (P(X<=x))\", type = \"S\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Distribuições de Probabilidade no R\n\nNo R nós temos quatro funções que podem nos fornecer elementos de uma distribuição de probabilidade:\n\n-   Densidade ou probabilidade\n\n-   Probabilidade acumulada / Função distribuição acumulada\n\n-   Quantis\n\n-   Números aleatórios\n\n## Exemplo de distribuição discreta\n\n## Probabilidades de uma binomial\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 0:50\nplot(x, dbinom(x, size=50, prob = 0.30), type=\"h\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Probabilidade Acumulada\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(x, pbinom(x, size=50, prob = 0.30))\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Quantis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqbinom(seq(0.1,0.9,0.1), size = 50, prob=0.30)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 11 12 13 14 15 16 17 18 19\n```\n:::\n:::\n\n\n## Números aleatórios\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\nrbinom(50, size = 50, prob=0.3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 13 15 23 15 18 17 16 17 14 14 21 16 15 18 14 11 14 12 16 14 12 14 15 18 17\n[26] 20 15 24 12 12 12 13 18 12 22  9 18 10 10 15 13 14 15  8 13 12 12 14 13 13\n```\n:::\n:::\n\n\n## Probabilidades de uma Poisson\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 0:6\nplot(x, dpois(x, lambda = 1.9), type=\"h\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n## Lei de Benford\n\nEm 1996 T.P. Hill mosrou que podemos aproximar as frequencias dos dígitos usando a expressão abaixo.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 1:9\nprob <- log10(1 + 1/x)\nbendford <- data.frame(x=x, prob=prob)\nbendford %>% kbl(digits = 3) %>% kable_minimal()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-minimal\" style='font-family: \"Trebuchet MS\", verdana, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> x </th>\n   <th style=\"text-align:right;\"> prob </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.301 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.176 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.125 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.097 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.079 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.067 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0.058 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 0.051 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.046 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Exemplo de distribuição contínua\n\n## Distribuição Exponencial\n\nTempo até uma falha\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\ncurve(dexp(x, 4), 0, 2, xlab = \"t\", ylab = \"dexp(t, 4)\")\nx <- seq(0, 0.5, 0.001)\nlines (x, dexp(x, 4), type = \"h\", col=\"grey\") \ntext(0.5, dexp(0.3, 4), expression(P(T <= 0,5)))\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n## Distribuição Normal\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- seq(-3,3,0.1)\nplot(x, dnorm(x, mean=0, sd=1), type=\"l\", xlab = \"Quantis da Normal Padrão\", ylab=\"Densidade de Probabilidade\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n## Distribuição Normal\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- seq(-3,3,0.1)\nplot(x, dnorm(x, mean=0, sd=1), type=\"l\", xlab = \"Quantis da Normal Padrão\", ylab=\"Densidade de Probabilidade\")\ny <- seq(-1, 1, 0.01) \nlines(y, dnorm(y, mean = 0, sd = 1), type = \"h\",\ncol = \"grey\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n## Função distribuição acumulada\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprob_acum <- pnorm(x, mean=0, sd=1)\nplot(x, prob_acum, xlab = \"Quantis da Normal Padrão\",\nylab = \"FDA (P(X<=x))\", type = \"l\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n## Quantil da Normal\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqnorm(c(0.25,0.5,0.75,0.95), mean=0, sd=1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] -0.6744898  0.0000000  0.6744898  1.6448536\n```\n:::\n\n```{.r .cell-code}\nqnorm(c(0.95,0.975,0.99), mean=0, sd=1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.644854 1.959964 2.326348\n```\n:::\n:::\n\n\n## Números Aleatórios\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\nrnorm(10, mean=0,sd=1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] -0.51213909  2.48518368  1.00782615  0.29281457 -0.20895936  1.85809239\n [7] -0.06602641 -0.16276495 -0.19986068  0.30056173\n```\n:::\n:::\n\n\n## Gráfico QQ Normal\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\nx <- rnorm(30, mean = 10, sd=1)\nqqnorm(x)\nqqline(x)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n## Gráfico QQ Normal\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\nx <- rnorm(100, mean = 10, sd=1)\nqqnorm(x)\nqqline(x)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n## Gráfico QQ Normal\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\nx <- rnorm(1000, mean = 10, sd=1)\nqqnorm(x)\nqqline(x)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\n## Como fica a exponencial?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\nx <- rexp(100, rate=2)\nqqnorm(x)\nqqline(x)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n## Como fica a t?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(22)\nx <- rt(100, df=2)\nqqnorm(x)\nqqline(x)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\n## Como fica a t?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- rt(100, df=5)\nqqnorm(x)\nqqline(x)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n## Como fica a t\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- seq(-3,3,0.1)\ncurve(dt(x, df=2), -3, 3, xlab = \"\", ylab = \"Densidade de Probabilidade\", col=1, ylim=c(0,0.5))\ncurve(dnorm(x, mean=0, sd=1), -3, 3, col=2, add=TRUE)\nlegend(1,0.5, c(\"t\", \"Normal\"), col=1:2, lty = 1)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\n## Outro gráfico QQ\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(car)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nCarregando pacotes exigidos: carData\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'car'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:dplyr':\n\n    recode\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:purrr':\n\n    some\n```\n:::\n\n```{.r .cell-code}\nset.seed(22)\nx <- rt(100, df=5)\nqqPlot(x, distribution=\"norm\")\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 35 18\n```\n:::\n\n```{.r .cell-code}\nqqPlot(x, distribution=\"t\", df=5)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-26-2.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 35 18\n```\n:::\n:::\n\n\n## Como fica a Lognormal?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- rlnorm(100, meanlog = 0, sdlog = 1)\nqqnorm(x)\nqqline(x)\n```\n\n::: {.cell-output-display}\n![](Aula01_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Aula01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}